import{a as n,c as e,d as i,e as t,b as l,w as h,r as p,o as k,f as r}from"./app-D5tjPIRP.js";const d="/molihua-wiki/assets/image(3)-D1TsXVFr.png",o="/molihua-wiki/assets/image(2)-CT-htYDJ.png",g="/molihua-wiki/assets/image(1)-C8tfvxWP.png",c="/molihua-wiki/assets/image-B_-m0mwY.png",y={};function u(A,s){const a=p("VPLink");return k(),e("div",null,[s[1]||(s[1]=i(`<p>ps：本文档作者小亮学长 </p><p>小亮随便写点什么吧，3、4 月份应该会持续更新（<a href="https://ccnml9qi8pl2.feishu.cn/wiki/PWpywm7Fji7Av3kB52DcFHbunAg?from=from_copylink" target="_blank" rel="noopener noreferrer"> RN 迁移鸿蒙文档</a>）</p><p> RN 适配鸿蒙文档：<a href="https://gitee.com/openharmony-sig/ohos_react_native/blob/0.72.5-ohos-5.0-release/docs/zh-cn/%E6%9E%B6%E6%9E%84%E4%BB%8B%E7%BB%8D.md#%E6%9E%B6%E6%9E%84%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer">docs/zh-cn/架构介绍.md · OpenHarmony-SIG/ohos_react_native - Gitee.com</a></p><h2 id="before" tabindex="-1"><a class="header-anchor" href="#before"><span>Before</span></a></h2><h3 id="rn-框架" tabindex="-1"><a class="header-anchor" href="#rn-框架"><span>RN 框架</span></a></h3><p>React Native（RN）是 Facebook 于 2015 年推出的跨平台移动开发框架，允许开发者使用 JavaScript 和 React 语法编写代码，通过桥接（Bridge）技术将代码转换为原生系统（iOS/Android）的 UI 组件和功能调用。</p><h3 id="文档中都讲了什么" tabindex="-1"><a class="header-anchor" href="#文档中都讲了什么"><span><strong>文档中都讲了什么</strong>：</span></a></h3><p>简单说一下文档中涉及的知识点，具体的知识点详情请看上方文档。</p><ol><li><p><strong>RNOH架构</strong> ，讲了一下不同框架下各部分的作用</p></li><li><p>详细的讲了一下<strong>RN库代码</strong>，简单的讲了一下封装和配置</p></li><li><p><strong>Fabric</strong>（React Native 的组件渲染系统，RN-&gt;F-&gt;原生 OS），这其中提到了C-API（<a href="https://gitee.com/openharmony-sig/ohos_react_native/blob/0.72.5-ohos-5.0-release/docs/zh-cn/%E6%9E%B6%E6%9E%84%E4%BB%8B%E7%BB%8D.md#contentslot%E6%8E%A5%E5%85%A5" target="_blank" rel="noopener noreferrer">ContentSlot</a>对接到 ArkUI 的后端接口进行渲染）的具体优势。</p></li><li><p>之后讲了一下<strong>TurboModule</strong>，是React Native 中用于 JavaScript 和原生代码进行交互的模块（我是小白，区分一下，Fabric是组件渲染，而TurboModule对接 JS 代码），分为 cxxTurboModule 和 ArkTSTurboModule</p></li><li><p><strong>React Native线程模型</strong>讲了RNOH线程模型的四个线程（MAIN，JS，BACKGROUND，WORKER）、RNOH线程的长期演进和典型线程Trace图</p><ol><li><p>MAIN/UI（组件管理、TurboModule业务功能、交互和消息）</p></li><li><p>JS 线程（通过 React 代码与 RN Common 的核心代码交互完成 React Native 的 Render 阶段任务）</p></li><li><p>BACKGROUND（会将 JS 线程的部分布局、ShadowTree 比较的任务迁移到该线程执行，从而降低 JS 线程的负荷）</p></li><li><p>WORKER（新特性，将 TurboModule 运行在 worker 线程）</p></li><li><p>线程扩展：增加唯一 TM 线程（将 TurboModule 的业务代码放到 TM 线程来执行，从而降低 MAIN 线程负荷），增加单独的 TIMER 线程，确保时间基准稳定执行</p></li></ol></li><li><p><strong>命令式组件</strong></p><ol><li><p>ContentSlot接入，推荐使用<a href="https://gitee.com/link?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V5%2Farkts-rendering-control-contentslot-V5" target="_blank" rel="noopener noreferrer">ContentSlot</a>占位组件管理Native API创建的组件（ContentSlot在内存和性能方面都优于NODE类型的XComponent。此外XComponent的libraryname参数不支持跨module使用，即无法找到其它模块中的同名so，RNOH的日志会提示找不到对应的so），分为createSurface、startSurface两个步骤</p></li><li><p>CAPI组件向上对接RN指令，<code>SchedulerDelegate.cpp</code> 负责处理 RN Common 传递下来的指令 MountingManagerCAPI.cpp 的didMount中对各个指令进行处理（先根据预先配置的arkTsComponentNames 获取 ArkTS 组件和 CAPI 组件的指令，分别进行处理，API 组件的指令会在 <code>handleMutation</code> 方法中逐个遍历每个指令，根据指令的类型（Create 、Delete、Insert、Remove、Update）进行不同的处理）</p></li><li><p>适配层事件分发逻辑（React Native for OpenHarmony（RNOH）架构中，处理和传递各种事件（如触摸事件、点击事件等）的一套机制），注册（SurfaceTouchEventHandler）-&gt;接收（回调传递处理）-&gt;处理（OH_ArkUI_NodeEvent_GetEventType，touch和非touch）-&gt;touch-&gt;非touch</p></li></ol></li><li><p><strong>RHOH启动流程</strong>:RN 容器创建、Worker 线程启动、NAPI 方法初始化、RN 实例创建四个阶段，接下来加载 bundle 和界面渲染</p></li></ol><h2 id="_1-rn鸿蒙适配方案" tabindex="-1"><a class="header-anchor" href="#_1-rn鸿蒙适配方案"><span>1. RN鸿蒙适配方案</span></a></h2><blockquote><p>这里是笔记整理思路，用来补充下面的文字：ok，我们来说一下他是怎么实现第三方适配的吧，首先是架构层面，在<strong>RN库代码</strong>中设计有<strong>Fabric</strong>和<strong>TurboModule</strong>完成组件渲染和 JS 业务对接，<strong>FabricFabric</strong>通过 <strong>C-API </strong>直连 arkui后端渲染，跳过传统的桥接层，<strong>TurboModule </strong>分为<strong>ArkTSTurboModule（</strong>通过NAPI调用 ArkTS 原生 API<strong>）</strong>和<strong>cxxTurboModule（</strong>纯 C++ 实现，无需系统 API，通过 JSI 直接与 JS 交互<strong>），</strong>在线程模型调整方面，华为分有四个线程并进行了拓展。</p></blockquote><h4 id="_1-适配层设计" tabindex="-1"><a class="header-anchor" href="#_1-适配层设计"><span>1. 适配层设计</span></a></h4><ul><li><p><strong>TurboModule </strong>：华为将 TurboModule 分为 ArkTSTurboModule 和 cxxTurboModule。ArkTSTurboModule 通过 NAPI 调用 ArkTS 原生 API，支持同步/异步操作，依赖 ArkTSMessageHub 进行线程间通信；cxxTurboModule 纯 C++ 实现，通过 JSI 直接与 JS 交互，减少跨语言开销。</p></li><li><p><strong>Fabric 渲染优化</strong>：</p><p>采用 C - API 直连 ArkUI，跳过传统 React Native 的桥接层，使用 ContentSlot 替代 XComponent 解决跨模块 SO 依赖问题。这种方式无数据类型转换，支持属性 Diff，避免重复渲染。</p></li></ul><h4 id="_2-线程模型调整" tabindex="-1"><a class="header-anchor" href="#_2-线程模型调整"><span>2. 线程模型调整</span></a></h4><p>华为设计了 4 线程分工模型，包括 MAIN 线程处理 ArkUI 组件生命周期和 TurboModule 业务逻辑；JS 线程执行 JS 代码，生成 ShadowTree 并计算布局；WORKER 线程运行 TurboModule 任务；BACKGROUND 线程（实验性）分担 JS 线程的布局计算。</p><h2 id="_2-platform-判断" tabindex="-1"><a class="header-anchor" href="#_2-platform-判断"><span>2. Platform 判断</span></a></h2><blockquote><p>在现有的跨平台架构项目中，往往会有一个 Platform，比如 import { Platform } from &#39;react-native&#39;，目前 RN 的 Platform 里没有 openharmony，那么华为是如何实现插入其中并做 Platform 判断的呢？文档中有提到“在现行的 React Native 中，有很多属性是在 React 侧完成的封装，也有很多属性是平台独有的。<strong>为了达成这个效果，React Native 在 JS 侧根据 <code>Platform</code> 增加了很多判断。</strong>所以，React Native 的鸿蒙化适配也需要增加 <code>OpenHarmony</code> 相关的平台判断，与相应的组件属性的封装。为此，<strong>鸿蒙化团队提供了 <code>react-native-harmony</code> 的 tgz 包，并通过更改 <code>metro.config.js</code> 配置，将该 tgz 包应用到 Metro Bundler 中</strong>。”但是没有说到具体怎么实现插入判断的....我回头自己搜一下</p></blockquote><p>鸿蒙化团队提供了 <code>react-native-harmony</code> 的 tgz 包，并通过更改 <code>metro.config.js</code> 配置，将该 tgz 包应用到 Metro Bundler 中。</p><h2 id="_3-第三方库适配" tabindex="-1"><a class="header-anchor" href="#_3-第三方库适配"><span>3. 第三方库适配</span></a></h2><h3 id="第三方库迁移策略" tabindex="-1"><a class="header-anchor" href="#第三方库迁移策略"><span>第三方库迁移策略：</span></a></h3><h4 id="文档依据" tabindex="-1"><a class="header-anchor" href="#文档依据"><span>文档依据：</span></a></h4><p><a href="https://gitee.com/react-native-oh-library/docs/blob/master/zh-cn/third-party.md#%E4%B8%89%E6%96%B9%E5%BA%93%E7%BB%84%E6%88%90" target="_blank" rel="noopener noreferrer">zh-cn/third-party.md · react-native-oh-library/docs - Gitee.com</a></p><h4 id="分类" tabindex="-1"><a class="header-anchor" href="#分类"><span>分类：</span></a></h4><p>这里面讲了具体的分类和大致的实现方法，根据 RN 三方库的实现方式可分为：原生库，JS 库，纯 JS 库，根据不同的分类会有不同的移植策略。简单来说，原生模块提供了与底层平台直接交互的能力，可以实现对底层功能的更深度的控制。JS 库这专门为 React Native 开发，但不涉及原生实现，利用 React Native 提供的桥接机制和 API 来实现其功能，或者通过其他三方库实现二次封装的功能，所以涉及较少的开发工作。纯 JS 库是纯粹的 JavaScript 模块，不依赖 React Native 平台的特定功能，可以在多种 JavaScript 环境中运行。</p><h4 id="迁移点" tabindex="-1"><a class="header-anchor" href="#迁移点"><span>迁移点：</span></a></h4><p>简单了解完原理，我们了解一下每个框架的迁移点。</p><p><strong>原生库：</strong></p><p>这类库需要参考原库逻辑来移植，有着如下移植点：</p><ul><li><p>RN JS 侧适配新架构</p></li><li><p>RN JS 侧适配 HarmonyOS 平台</p></li><li><p>利用 codegen 搭建 Bridge 的通信通道（开发相对固定）</p></li><li><p>使用 arkts 复刻原库逻辑实现原库效果</p></li></ul><p><strong>JS 库：</strong></p><p>由于是基于 RN 接口的封装，所以涉及较少的开发工作，移植点包含：</p><ul><li><p>RN JS 侧适配 HarmonyOS 平台</p></li><li><p>大量测试对比</p></li></ul><p><strong>纯 JS 库：</strong></p><p>由于是基于 RN 接口的封装，所以没有开发工作，主要是测试对应各个平台效果是否一致，不一致则需要反馈给框架层。因为使用的 RN 引擎是一致的，所以通常来说接口都是正常可用的。</p><h3 id="迁移方法" tabindex="-1"><a class="header-anchor" href="#迁移方法"><span>迁移方法</span></a></h3><p>迁移到新框架分为两步：JS 代码迁移和原生代码迁移。</p><h4 id="js-代码迁移方法" tabindex="-1"><a class="header-anchor" href="#js-代码迁移方法"><span>JS 代码迁移方法：</span></a></h4><h5 id="文档依据-1" tabindex="-1"><a class="header-anchor" href="#文档依据-1"><span>文档依据：</span></a></h5><p><a href="https://gitee.com/react-native-oh-library/docs/blob/master/zh-cn/migration.md#https://gitee.com/link?target=https%3A%2F%2Freactnative.cn%2Fdocs%2Fnew-architecture-intro" target="_blank" rel="noopener noreferrer"> https://gitee.com/react-native-oh-library/docs/blob/master/zh-cn/migration.md#https://gitee.com/link?target=https%3A%2F%2Freactnative.cn%2Fdocs%2Fnew-architecture-intro</a></p><h5 id="具体方法" tabindex="-1"><a class="header-anchor" href="#具体方法"><span>具体方法：</span></a></h5><h6 id="判断三方库是否支持新框架" tabindex="-1"><a class="header-anchor" href="#判断三方库是否支持新框架"><span>判断三方库是否支持新框架：</span></a></h6><p>有三个方法来判断：</p><p>一般用第一个方法就能快速识别。</p><h6 id="预备工作" tabindex="-1"><a class="header-anchor" href="#预备工作"><span>预备工作：</span></a></h6><h4 id="原生平台代码迁移方法" tabindex="-1"><a class="header-anchor" href="#原生平台代码迁移方法"><span>原生平台代码迁移方法：</span></a></h4><p><a href="https://reactnative.cn/docs/new-architecture-library-ios" target="_blank" rel="noopener noreferrer">https://reactnative.cn/docs/new-architecture-library-ios</a></p><h3 id="rnoh-和-js-第三方库" tabindex="-1"><a class="header-anchor" href="#rnoh-和-js-第三方库"><span>RNOH 和 JS 第三方库：</span></a></h3><p><a href="https://gitee.com/react-native-oh-library/usage-docs#%E7%AE%80%E4%BB%8B" target="_blank" rel="noopener noreferrer">https://gitee.com/react-native-oh-library/usage-docs#%E7%AE%80%E4%BB%8B</a></p><p>这里面是已经有的第三方库，挺全的</p><h3 id="taro-框架" tabindex="-1"><a class="header-anchor" href="#taro-框架"><span>taro 框架？</span></a></h3><p><a href="https://docs.taro.zone/docs/react-native-harmony" target="_blank" rel="noopener noreferrer">https://docs.taro.zone/docs/react-native-harmony</a></p><h2 id="_4-编写原生鸿蒙-rn-项目" tabindex="-1"><a class="header-anchor" href="#_4-编写原生鸿蒙-rn-项目"><span>4. 编写原生鸿蒙 RN 项目</span></a></h2><p><a href="https://gitee.com/openharmony-sig/ohos_react_native/blob/master/docs/zh-cn/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md#%E5%9C%A8%E5%8E%9F%E7%94%9F%E5%B7%A5%E7%A8%8B%E4%B8%AD%E9%9B%86%E6%88%90rnoh" target="_blank" rel="noopener noreferrer">https://gitee.com/openharmony-sig/ohos_react_native/blob/master/docs/zh-cn/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md#%E5%9C%A8%E5%8E%9F%E7%94%9F%E5%B7%A5%E7%A8%8B%E4%B8%AD%E9%9B%86%E6%88%90rnoh</a></p><h2 id="_5-目前的问题" tabindex="-1"><a class="header-anchor" href="#_5-目前的问题"><span>5. 目前的问题</span></a></h2><h3 id="_1-expo库" tabindex="-1"><a class="header-anchor" href="#_1-expo库"><span>1.expo库</span></a></h3><p>目前我们用的最多的就是expo库，需要了解一下RN 是否有适配 expo 库的方法</p><h4 id="_1-了解-expo库-expo-介绍-expo是一套工具、库和服务-让你可以通过编写javascript来构建本地的ios和android应用程序。" tabindex="-1"><a class="header-anchor" href="#_1-了解-expo库-expo-介绍-expo是一套工具、库和服务-让你可以通过编写javascript来构建本地的ios和android应用程序。"><span>1. 了解 expo库（<a href="https://jigang-duan.github.io/2018/02/08/expo-introduce/" target="_blank" rel="noopener noreferrer">Expo 介绍</a>） <a href="http://expo.io/" target="_blank" rel="noopener noreferrer">Expo</a>是一套工具、库和服务，让你可以通过编写JavaScript来构建本地的iOS和Android应用程序。</span></a></h4><h4 id="_2-查看文档" tabindex="-1"><a class="header-anchor" href="#_2-查看文档"><span>2. 查看文档</span></a></h4><p>搜查了官网（<a href="https://docs.expo.dev/" target="_blank" rel="noopener noreferrer">https://docs.expo.dev/</a>），论坛（<a href="https://forums.expo.dev/" target="_blank" rel="noopener noreferrer">https://forums.expo.dev/</a>），官方在 12 月份表示会适配鸿蒙，但不是重点项目，想来应该是不会适配了，看一下有没有高人在做这件事。</p><p>...并没有高手在做这件事，我还是看一下 Expo 库是否有平替吧</p><h4 id="_3-我们用了哪些-expo库以及是否有平替" tabindex="-1"><a class="header-anchor" href="#_3-我们用了哪些-expo库以及是否有平替"><span>3. 我们用了哪些 expo库以及是否有平替</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">^52.0.28</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-blur</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">^14.0.3</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-build-properties</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~0.13.2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-calendar</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~14.0.6</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-camera</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~16.0.17</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-constants</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~17.0.5</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-crypto</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~14.0.2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-image</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~2.0.4</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-intent-launcher</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~12.0.2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-linear-gradient</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">^14.0.2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-linking</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~7.0.5</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-localization</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~16.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-navigation-bar</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">^4.0.7</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-router</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~4.0.17</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-sharing</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~13.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-splash-screen</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~0.29.21</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-status-bar</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~2.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-system-ui</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~4.0.7</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-tracking-transparency</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~5.1.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo-web-browser</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~14.0.2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><code>expo-blur</code></li></ol><p>&quot;expo-blur&quot;: &quot;^14.0.3&quot;</p><p><strong>用途</strong>：该库用于在应用中创建模糊效果。可以为视图添加模糊背景，增强用户界面的视觉效果。</p><p><strong>平替</strong>：鸿蒙的 <code>BlurEffect</code> 类</p><ul><li><code>expo-build-properties</code></li></ul><p>&quot;expo-build-properties&quot;: &quot;~0.13.2&quot;</p><p><strong>用途</strong>：用于配置Expo项目的构建属性。可以帮助开发者自定义项目的构建配置，如Android的Gradle属性、iOS的Xcode配置等。</p><p><strong>平替</strong>：无，额，这个好像也不需要吧</p><ul><li><code>expo-calendar</code>（<a href="https://docs.expo.dev/versions/latest/sdk/calendar/" target="_blank" rel="noopener noreferrer">Calendar</a>）</li></ul><p>&quot;expo-calendar&quot;: &quot;~14.0.6&quot;</p><p><strong>用途</strong>： <code>expo-calendar</code> 提供了一个 API，用于与设备的系统日历、事件、提醒和关联记录进行交互。此外，它还提供了启动<a href="https://docs.expo.dev/versions/latest/sdk/calendar#launching-system-provided-calendar-dialogs" target="_blank" rel="noopener noreferrer">系统提供的日历 UI</a> 的方法，以允许用户查看或编辑活动。在 Android 上，这些方法使用 Intent 启动系统日历应用。在 iOS 上，它们将 <a href="https://developer.apple.com/documentation/eventkitui/ekeventviewcontroller" target="_blank" rel="noopener noreferrer"><code>EKEventViewController</code></a> 或 <a href="https://developer.apple.com/documentation/eventkitui/ekeventeditviewcontroller" target="_blank" rel="noopener noreferrer"><code>EKEventEditViewController</code></a> 显示为模式。</p><p><strong>平替：</strong>Calendar Kit（日历服务）（https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/calendar-api-V5）</p><ul><li><code>expo-camera</code><a href="https://docs.expo.dev/versions/latest/sdk/camera/" target="_blank" rel="noopener noreferrer">Camera</a></li></ul><p>&quot;expo-camera&quot;: &quot;~16.0.17&quot;</p><p><strong>用途</strong>：用于在应用中实现相机功能。可以拍照、录制视频，还支持设置相机的各种参数，如闪光灯模式、对焦模式等。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/camera-overview-V5" target="_blank" rel="noopener noreferrer">Camera Kit简介-Camera Kit（相机服务）-媒体</a></p><ul><li><code>expo-constants</code><a href="https://docs.expo.dev/versions/latest/sdk/constants/#installation" target="_blank" rel="noopener noreferrer">Constants</a></li></ul><p>&quot;expo-constants&quot;: &quot;~17.0.5&quot;</p><p><strong>用途</strong>：</p><ul><li><p>设备型号、系统版本、屏幕状态栏高度等硬件 / 系统属性。</p></li><li><p>应用的构建配置（如版本号、打包信息）、执行环境（Expo Go、独立应用或裸工程）。</p></li></ul><p><strong>平替：无</strong></p><ul><li><code>expo-crypto</code><a href="https://docs.expo.dev/versions/latest/sdk/crypto/" target="_blank" rel="noopener noreferrer">Crypto</a></li></ul><p>&quot;expo-crypto&quot;: &quot;~14.0.2&quot;</p><p><strong>用途</strong>：提供了加密和解密相关的功能。可以进行哈希计算、加密算法等操作，用于保护应用中的敏感数据。<code>~</code> 表示安装版本大于等于 <code>14.0.2</code> 且小于 <code>14.1.0</code> 的库。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/crypto-architecture-kit-V5?ha_source=sousuo&amp;ha_sourceId=89000251" target="_blank" rel="noopener noreferrer">Crypto Architecture Kit（加解密算法框架服务）-安全-系统</a></p><ul><li><code>expo-image</code></li></ul><p>&quot;expo-image&quot;: &quot;~2.0.4&quot;</p><p><strong>用途</strong>：用于在应用中加载和显示图像。支持多种图像格式，并且可以进行图像的缓存、缩放等处理。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/image-arkts-dev-V5" target="_blank" rel="noopener noreferrer">图片开发指导(ArkTS)-Image Kit（图片处理服务）-媒体</a></p><ul><li><code>expo-intent-launcher</code></li></ul><p>&quot;expo-intent-launcher&quot;: &quot;~12.0.2&quot;</p><p><strong>用途</strong>：主要用于Android平台，允许应用启动其他应用的特定功能或活动。通过发送意图（Intent）来调用其他应用的服务。<code>~</code> 表示安装版本大于等于 <code>12.0.2</code> 且小于 <code>12.1.0</code> 的库。</p><p><strong>平替：无，不用管</strong></p><ul><li><code>expo-linear-gradient</code>https://docs.expo.dev/versions/latest/sdk/linear-gradient/</li></ul><p>&quot;expo-linear-gradient&quot;: &quot;^14.0.2&quot;</p><p><strong>用途</strong>：用于在应用中创建线性渐变效果。可以为视图添加渐变背景，增强界面的视觉效果。</p><p><strong>平替： </strong>鸿蒙自带的，也许可以完成<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/ts-universal-attributes-gradient-color-V13#lineargradient" target="_blank" rel="noopener noreferrer">颜色渐变-通用属性-组件通用信息-ArkTS组件-ArkUI（方舟UI框架）-应用框架</a></p><ul><li><code>expo-linking</code>https://docs.expo.dev/versions/latest/sdk/linking/</li></ul><p>&quot;expo-linking&quot;: &quot;~7.0.5&quot;</p><p><strong>用途</strong>：提供了处理应用链接的功能。可以实现应用内的深层链接，即通过URL链接打开应用内的特定页面。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/app-linking-startup-V5#section6903241628" target="_blank" rel="noopener noreferrer">使用App Linking实现应用间跳转-拉起指定应用-应用间跳转-Stage模型开发指导-Ability Kit（程序框架服务）-应用框架</a></p><ul><li><code>expo-localization</code></li></ul><p>&quot;expo-localization&quot;: &quot;~16.0.1&quot;</p><p><strong>用途</strong>：</p><ul><li><p>语言与地区：获取用户设备的语言标签（如 <code>en-US</code>）、地区代码（如 <code>US</code>）、文本方向（LTR/RTL）。</p></li><li><p>格式与单位：支持货币符号（如 <code>$</code>）、十进制分隔符（<code>.</code> 或 <code>,</code>）、测量系统（公制 / 英制）、时区等。</p></li><li><p>日历与时间：获取用户首选的日历类型（如公历、农历）、24 小时制开关、每周起始日等。</p></li></ul><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/js-apis-resource-manager-V13" target="_blank" rel="noopener noreferrer">@ohos.resourceManager (资源管理)-ArkTS API-Localization Kit（本地化开发服务）-应用框架</a></p><ul><li><code>expo-navigation-bar</code><a href="https://docs.expo.dev/versions/latest/sdk/navigation-bar/" target="_blank" rel="noopener noreferrer">NavigationBar</a></li></ul><p>&quot;expo-navigation-bar&quot;: &quot;^4.0.7&quot;</p><p><strong>用途</strong>：用于控制Android设备的导航栏。可以设置导航栏的颜色、透明度等属性，以实现与应用界面的风格统一。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/ts-basic-components-navigation-V13" target="_blank" rel="noopener noreferrer">Navigation-导航与切换-ArkTS组件-ArkUI（方舟UI框架）-应用框架</a></p><ul><li><code>expo-router</code>https://docs.expo.dev/versions/latest/sdk/router/</li></ul><p>&quot;expo-router&quot;: &quot;~4.0.17&quot;</p><p><strong>用途</strong>：是Expo的路由库，用于管理应用的页面导航。可以定义路由规则，实现页面之间的跳转和参数传递。<code>~</code> 表示安装版本大于等于 <code>4.0.17</code> 且小于 <code>4.1.0</code> 的库。</p><p><strong>平替：</strong><a href="https://github.com/react-native-oh-library/react-navigation/tree/sig/packages/native-stack" target="_blank" rel="noopener noreferrer">github.com</a><strong>也许可以吧</strong></p><ul><li><code>expo-sharing</code>https://docs.expo.dev/versions/latest/sdk/sharing/</li></ul><p>&quot;expo-sharing&quot;: &quot;~13.0.1&quot;</p><p><strong>用途</strong>：提供了分享功能，允许用户将应用内的内容分享到其他应用或平台。可以分享文本、图片、文件等。<code>~</code> 表示安装版本大于等于 <code>13.0.1</code> 且小于 <code>13.1.0</code> 的库。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/sdk/share-kit/?ha_source=sousuo&amp;ha_sourceId=89000251" target="_blank" rel="noopener noreferrer">Share Kit(分享服务) | 华为开发者联盟</a></p><figure><img src="`+d+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><code>expo-splash-screen</code>https://docs.expo.dev/versions/latest/sdk/splash-screen/</li></ul><p>&quot;expo-splash-screen&quot;: &quot;~0.29.21&quot;</p><p><strong>用途</strong>：用于管理应用的启动屏。可以自定义启动屏的显示内容和显示时间，提升用户体验。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/forum/topic/0201163460999436146?fid=0109140870620153026" target="_blank" rel="noopener noreferrer">【代码案例】HarmonyOS NEXT 启动页实现案例-华为开发者问答 | 华为开发者联盟</a></p><ul><li><code>expo-status-bar</code>https://docs.expo.dev/versions/latest/sdk/status-bar/</li></ul><p>&quot;expo-status-bar&quot;: &quot;~2.0.1&quot;</p><p><strong>用途</strong>：用于控制应用的状态栏。可以设置状态栏的颜色、透明度、文本样式等属性。</p><p><strong>平替：</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/statusbar-extension-guide-V5" target="_blank" rel="noopener noreferrer">应用接入状态栏-Status Bar Extension Kit（状态栏开放服务）-基础功能-系统</a></p><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/statusbar-extension-manager-V13" target="_blank" rel="noopener noreferrer">statusBarManager（状态栏管理服务）-ArkTS API-Status Bar Extension Kit（状态栏开放服务）-基础功能-系统</a></p><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkui-214-V5" target="_blank" rel="noopener noreferrer">404</a></p><ul><li><code>expo-system-ui</code>https://docs.expo.dev/versions/latest/sdk/system-ui/</li></ul><p>&quot;expo-system-ui&quot;: &quot;~4.0.7&quot;</p><p><strong>用途</strong>：用于控制设备的系统UI，如状态栏、导航栏等。可以实现沉浸式体验，让应用界面与系统UI更好地融合。</p><p><strong>平替：</strong>不太懂干什么的，也许<code>window</code>可以吧</p><ul><li><code>expo-tracking-transparency</code>https://docs.expo.dev/versions/latest/sdk/tracking-transparency/</li></ul><p>&quot;expo-tracking-transparency&quot;: &quot;~5.1.1&quot;https://docs.expo.dev/versions/latest/sdk/tracking-transparency/</p><p><strong>用途</strong>：主要用于iOS平台，用于请求用户授权应用进行数据跟踪。符合苹果的隐私政策要求。</p><p><strong>平替：</strong><a href="https://harmonyos.litebook.cn/docs/ying-yong-quan-xian-guan-li.html" target="_blank" rel="noopener noreferrer">应用权限管理 · 鸿蒙OS开发文档</a></p><p><a href="https://gitee.com/zhongte/TaoYao" target="_blank" rel="noopener noreferrer">裴云飞/桃夭</a></p><ul><li><code>expo-web-browser</code>https://docs.expo.dev/versions/latest/sdk/webbrowser/</li></ul><p>&quot;expo-web-browser&quot;: &quot;~14.0.2&quot;</p><p><strong>用途</strong>：用于在应用内打开网页。可以使用系统的浏览器打开网页，也可以使用自定义的WebView组件。</p><p><strong>平替：https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkweb-V5</strong></p><h3 id="_2-platform判断" tabindex="-1"><a class="header-anchor" href="#_2-platform判断"><span>2.Platform判断</span></a></h3><p>https://gitee.com/react-native-oh-library/docs/blob/master/zh-cn/deprecated/strategy.md</p><p>每个库可能在自身代码添加许多平台判断，因此我们需要根据我们的对标策略，适当的添加平台判断代码：</p><ol><li>Platform 接口中 HarmoyOS 判断</li></ol><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plain"><span class="line"><span>  if (Platform.OS === &#39;ios&#39;) {</span></span>
<span class="line"><span>    headerHeight = 32;</span></span>
<span class="line"><span>  } else if (Platform.OS === &#39;android&#39;) {</span></span>
<span class="line"><span>    headerHeight = 56;</span></span>
<span class="line"><span>  } else if (Platform.OS === &#39;harmony&#39;) {</span></span>
<span class="line"><span>    headerHeight = 32;</span></span>
<span class="line"><span>  } else {</span></span>
<span class="line"><span>    headerHeight = 64;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>   headerTitleAlign = Platform.select({</span></span>
<span class="line"><span>      ios: &#39;center&#39;,</span></span>
<span class="line"><span>      harmony: &#39;center&#39;,</span></span>
<span class="line"><span>      default: &#39;left&#39;,</span></span>
<span class="line"><span>    })</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><p>添加 HarmonyOS 平台后缀的文件</p></li><li><p>如 <a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Freact-navigation%2Freact-navigation%2Ftree%2Fmain%2Fpackages%2Freact-native-tab-view%2Fsrc" target="_blank" rel="noopener noreferrer">react-native-tab-view</a> 中包含，Pager.android.tsx、Pager.ios.tsx、Pager.tsx 代码文件，我们则需要对标 iOS 添加Pager.harmoy.tsx文件，代码实现则复制至 Pager.ios.tsx。若在该库中缺少这部分添加则该库会走到 window 侧实现，虽然可以运行但性能效果缺相差甚远。类似的需要注意的代码文件还有 xx.native.tsx。</p></li></ol><p>以上列举了常见的平台判断，在移植时排除以上内容后必须在 js 代码中全量搜索以下关键词，以确保平台判断无疏漏：</p><ul><li><p>ios</p></li><li><p>android</p></li><li><p>Platform</p></li></ul><p>q&amp;a：</p><p>1.4 bob-build 或使用 babel 时 Platform.OS 报错：&#39;&quot;android&quot; | &quot;windows&quot; | &quot;macos&quot; | &quot;web&quot;&#39; and &#39;&quot;harmony&quot;&#39; have no overlap.</p><p>将 node_modules 的 <code>react-native/Libraries/Utilities/c</code>（node_modules/expo/types/react-native-web.d.ts） 替换成 react-native-harmony 包里 <code>react-native-harmony/Libraries/Utilities/Platform.d.ts</code>。</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-ts"><span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * Copyright (c) Meta Platforms, Inc. and affiliates.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> *</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * This source code is licensed under the MIT license found in the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * LICENSE file in the root directory of this source tree.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> *</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">format</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">see</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> https://reactnative.dev/docs/platform-specific-code#content</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> type</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformOSType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ios</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">android</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">macos</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">windows</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">web</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">harmony</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // RNOH: patch</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">native</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">type</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  isTesting</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  reactNativeVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    major</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    minor</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    patch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    prerelease</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">undefined</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  };</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">};</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  isTV</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  isTesting</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  constants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  /**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">see</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> https://reactnative.dev/docs/platform-specific-code#content</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   */</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  select</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    specifics</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      | ({ [</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">platform</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> in</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformOSType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> } &amp; { </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">; })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      | { [</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">platform</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> in</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformOSType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  ):</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  select</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">specifics</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: { [</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">platform</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> in</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformOSType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }):</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> T</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> |</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> undefined</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformIOSStatic</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  constants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp; {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    forceTouchAvailable</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    interfaceIdiom</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    osVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    systemName</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  };</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  OS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ios</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  isPad</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  isTV</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformAndroidStatic</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  constants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp; {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Release</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Serial</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Fingerprint</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Brand</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Manufacturer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    ServerHost</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">undefined</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    uiMode</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">car</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">desk</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">normal</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">watch</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">unknown</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  };</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  OS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">android</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformMacOSStatic</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  OS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">macos</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  constants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp; {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    osVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  };</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformWindowsOSStatic</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  OS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">windows</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  constants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp; {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    osVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  };</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformWebStatic</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  OS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">web</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// begin RNOH: patch</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> type</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformHarmonyConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  deviceType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">default</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">phone</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">wearable</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">liteWearable</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tablet</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">car</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> | </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">smartVision</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  osFullName</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformHarmonyStatic</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> PlatformStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  OS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">harmony</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  constants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">PlatformHarmonyConstants</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// end RNOH: patch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> type</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Platform</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformIOSStatic</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformAndroidStatic</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformWindowsOSStatic</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformMacOSStatic</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformWebStatic</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  |</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> PlatformHarmonyStatic</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // RNOH: patch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Platform</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Platform</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,156)),t("p",null,[l(a,{href:"/mobile/Platform.d_%E5%89%AF%E6%9C%AC.ts"},{default:h(()=>[...s[0]||(s[0]=[r("Platform.d_副本.ts",-1)])]),_:1})]),s[2]||(s[2]=i(`<h3 id="_3-做一个小demo" tabindex="-1"><a class="header-anchor" href="#_3-做一个小demo"><span>3.做一个小demo</span></a></h3><p>现做一个小demo，试试水</p><p><a href="https://gitee.com/openharmony-sig/ohos_react_native/blob/0.72.5-ohos-5.0-release/docs/zh-cn/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md" target="_blank" rel="noopener noreferrer">docs/zh-cn/环境搭建.md · OpenHarmony-SIG/ohos_react_native - Gitee.com</a></p><h3 id="_4-去-ide-化" tabindex="-1"><a class="header-anchor" href="#_4-去-ide-化"><span> 4.去 IDE 化</span></a></h3><p>之前是 iOS 开发，必须用 xcode，其实xcode只是一个图形化工具，完全可以用命令行打开</p><ol><li>了解Xcode是怎么去IDE的</li></ol><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">scripts</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">start</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo start</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">android</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo run:android</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">ios</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo run:ios</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">prebuild:android</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo prebuild --platform android</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">prebuild:ios</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo prebuild --platform ios</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">test</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">jest --watchAll</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">lint</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">expo lint</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">openapi</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">openapi-ts</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-commandline-V5#section16300629103</p><h3 id="未整理区域" tabindex="-1"><a class="header-anchor" href="#未整理区域"><span>未整理区域</span></a></h3><ol><li>github文件actions</li></ol><p>写一份类似的文档，然后在 github 上可以进行编译，这也就是为什么之前要做去 IDE 化</p><p><a href="https://github.com/west2-online/fzuhelper-app/blob/master/.github/workflows/build.yml" target="_blank" rel="noopener noreferrer">https://github.com/west2-online/fzuhelper-app/blob/master/.github/workflows/build.yml</a></p><figure><img src="`+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>expo-router</li></ul><p>适配这个库，简单的试一下</p><p>fork 下来这个代码（<a href="https://github.com/expo/expo/blob/main/packages/expo-router/package.json" target="_blank" rel="noopener noreferrer">https://github.com/expo/expo/blob/main/packages/expo-router/package.json</a>），然后把其中的名字改为华为提供的，试一下</p><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>服创：</li></ul><p>Webview组件，点击后显示<a href="http://localhost:3000/" target="_blank" rel="noopener noreferrer">http://localhost:3000/</a></p><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>服创：</li></ul><p>搞一个不可见的 webview，然后做一下 getname（如上图）</p><h2 id="贡献者" tabindex="-1"><a class="header-anchor" href="#贡献者"><span>贡献者</span></a></h2><div class="contributors-list" style="display:flex;gap:20px;flex-wrap:wrap;margin-top:20px;"><div style="text-align:center;"><img src="https://avatars.githubusercontent.com/u/165021503?v=4" alt="李佳亮" style="width:80px;border-radius:50%;"><p style="margin-top:8px;"><a href="https://github.com/LucaAnd2024?tab=repositories" target="_blank">李佳亮</a></p></div></div>',24))])}const D=n(y,[["render",u]]),m=JSON.parse('{"path":"/LearningRoute/a1sgl9wp/","title":"RN 适配鸿蒙","lang":"zh-CN","frontmatter":{"title":"RN 适配鸿蒙","createTime":"2025/10/05 20:48:39","permalink":"/LearningRoute/a1sgl9wp/"},"readingTime":{"minutes":15.87,"words":4761},"git":{"createdTime":1759912112000,"updatedTime":1759912112000},"filePathRelative":"notes/LearningRoute/4.移动方向/3.扩展学习/RN 适配鸿蒙.md","headers":[]}');export{D as comp,m as data};
